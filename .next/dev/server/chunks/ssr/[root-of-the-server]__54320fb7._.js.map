{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/scentelica/components/FragranceCard.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport Image from \"next/image\";\n\ninterface FragranceCardProps {\n  id: string;\n  name: string;\n  brand: string;\n  gender?: string;\n  concentration?: string;\n  ratingAvg?: number;\n  reviewCount?: number;\n  bottleImageUrl?: string;\n}\n\nexport default function FragranceCard({\n  id,\n  name,\n  brand,\n  gender,\n  concentration,\n  ratingAvg,\n  reviewCount,\n  bottleImageUrl,\n}: FragranceCardProps) {\n  return (\n    <Link href={`/fragrances/${id}`}>\n      <div className=\"group bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1\">\n        <div className=\"relative aspect-square bg-gradient-to-br from-gray-50 to-gray-100 p-8\">\n          {bottleImageUrl ? (\n            <Image\n              src={bottleImageUrl}\n              alt={`${name} by ${brand}`}\n              fill\n              className=\"object-contain p-4 group-hover:scale-105 transition-transform duration-300\"\n            />\n          ) : (\n            <div className=\"w-full h-full flex items-center justify-center\">\n              <div className=\"w-32 h-40 bg-gradient-to-br from-primary/20 to-primary/5 rounded-lg\"></div>\n            </div>\n          )}\n        </div>\n\n        <div className=\"p-6\">\n          <div className=\"flex items-start justify-between gap-2 mb-2\">\n            <div className=\"flex-1\">\n              <h3 className=\"text-lg font-semibold text-gray-900 group-hover:text-primary transition-colors line-clamp-1\">\n                {name}\n              </h3>\n              <p className=\"text-sm text-gray-600 font-medium\">{brand}</p>\n            </div>\n            {ratingAvg && (\n              <div className=\"flex items-center space-x-1 bg-primary/10 px-2 py-1 rounded-full\">\n                <svg className=\"w-4 h-4 text-primary fill-current\" viewBox=\"0 0 20 20\">\n                  <path d=\"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z\" />\n                </svg>\n                <span className=\"text-sm font-semibold text-primary\">\n                  {ratingAvg.toFixed(1)}\n                </span>\n              </div>\n            )}\n          </div>\n\n          <div className=\"flex items-center space-x-2 text-xs text-gray-500\">\n            {gender && (\n              <span className=\"px-2 py-1 bg-gray-100 rounded-full\">{gender}</span>\n            )}\n            {concentration && (\n              <span className=\"px-2 py-1 bg-gray-100 rounded-full\">{concentration}</span>\n            )}\n          </div>\n\n          {reviewCount !== undefined && reviewCount > 0 && (\n            <p className=\"mt-3 text-xs text-gray-500\">\n              {reviewCount} {reviewCount === 1 ? 'review' : 'reviews'}\n            </p>\n          )}\n        </div>\n      </div>\n    </Link>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAae,SAAS,cAAc,EACpC,EAAE,EACF,IAAI,EACJ,KAAK,EACL,MAAM,EACN,aAAa,EACb,SAAS,EACT,WAAW,EACX,cAAc,EACK;IACnB,qBACE,8OAAC,0LAAI;QAAC,MAAM,CAAC,YAAY,EAAE,IAAI;kBAC7B,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BACZ,+BACC,8OAAC,wIAAK;wBACJ,KAAK;wBACL,KAAK,GAAG,KAAK,IAAI,EAAE,OAAO;wBAC1B,IAAI;wBACJ,WAAU;;;;;6CAGZ,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;;;;;;;;;;;;;;;8BAKrB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAG,WAAU;sDACX;;;;;;sDAEH,8OAAC;4CAAE,WAAU;sDAAqC;;;;;;;;;;;;gCAEnD,2BACC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;4CAAoC,SAAQ;sDACzD,cAAA,8OAAC;gDAAK,GAAE;;;;;;;;;;;sDAEV,8OAAC;4CAAK,WAAU;sDACb,UAAU,OAAO,CAAC;;;;;;;;;;;;;;;;;;sCAM3B,8OAAC;4BAAI,WAAU;;gCACZ,wBACC,8OAAC;oCAAK,WAAU;8CAAsC;;;;;;gCAEvD,+BACC,8OAAC;oCAAK,WAAU;8CAAsC;;;;;;;;;;;;wBAIzD,gBAAgB,aAAa,cAAc,mBAC1C,8OAAC;4BAAE,WAAU;;gCACV;gCAAY;gCAAE,gBAAgB,IAAI,WAAW;;;;;;;;;;;;;;;;;;;;;;;;AAO5D"}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/scentelica/components/FilterSidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/FilterSidebar.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/FilterSidebar.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgS,GAC7T,8DACA","ignoreList":[0]}},
    {"offset": {"line": 218, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/scentelica/components/FilterSidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/FilterSidebar.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/FilterSidebar.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA4Q,GACzS,0CACA","ignoreList":[0]}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/scentelica/lib/db.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\nimport { PrismaPg } from '@prisma/adapter-pg'\nimport { Pool } from 'pg'\n\nconst pool = new Pool({ connectionString: process.env.DATABASE_DIRECT_URL })\nconst adapter = new PrismaPg(pool)\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined\n}\n\nexport const prisma = globalForPrisma.prisma ?? new PrismaClient({\n  adapter,\n  log: process.env.NODE_ENV === 'development' ? ['query', 'error', 'warn'] : ['error'],\n})\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;;;;;AAEA,MAAM,OAAO,IAAI,qJAAI,CAAC;IAAE,kBAAkB,QAAQ,GAAG,CAAC,mBAAmB;AAAC;AAC1E,MAAM,UAAU,IAAI,uKAAQ,CAAC;AAE7B,MAAM,kBAAkB;AAIjB,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,sMAAY,CAAC;IAC/D;IACA,KAAK,uCAAyC;QAAC;QAAS;QAAS;KAAO,GAAG;AAC7E;AAEA,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 278, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/scentelica/app/fragrances/page.tsx"],"sourcesContent":["import { Suspense } from \"react\";\nimport type { Metadata } from \"next\";\nimport FragranceCard from \"@/components/FragranceCard\";\nimport FilterSidebar from \"@/components/FilterSidebar\";\nimport { prisma } from \"@/lib/db\";\n\nexport const metadata: Metadata = {\n  title: \"Browse Fragrances\",\n  description: \"Explore our complete collection of fragrances. Filter by brand, gender, and notes to find your perfect scent.\",\n  openGraph: {\n    title: \"Browse Fragrances | Scentelica\",\n    description: \"Explore our complete collection of fragrances. Filter by brand, gender, and notes to find your perfect scent.\",\n  },\n};\n\ninterface FragrancesPageProps {\n  searchParams: Promise<{\n    search?: string;\n    brand?: string;\n    gender?: string;\n    sort?: string;\n  }>;\n}\n\nasync function FragrancesList({ searchParams }: { searchParams: Awaited<FragrancesPageProps['searchParams']> }) {\n  const { search, brand, gender, sort } = searchParams;\n\n  const where: any = {};\n\n  if (search) {\n    where.OR = [\n      { name: { contains: search, mode: 'insensitive' } },\n      { brand: { name: { contains: search, mode: 'insensitive' } } },\n      { description: { contains: search, mode: 'insensitive' } },\n    ];\n  }\n\n  if (brand) {\n    where.brand = { name: brand };\n  }\n\n  if (gender) {\n    where.gender = gender;\n  }\n\n  let orderBy: any = { ratingAvg: 'desc' };\n\n  if (sort === 'name') {\n    orderBy = { name: 'asc' };\n  } else if (sort === 'year') {\n    orderBy = { year: 'desc' };\n  }\n\n  const fragrances = await prisma.fragrance.findMany({\n    where,\n    include: {\n      brand: true,\n    },\n    orderBy,\n  });\n\n  const brands = await prisma.brand.findMany({\n    orderBy: { name: 'asc' },\n  });\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-8\">\n        <aside className=\"lg:col-span-1\">\n          <FilterSidebar brands={brands} />\n        </aside>\n\n        <main className=\"lg:col-span-3\">\n          <div className=\"mb-8\">\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\n              {search ? `Search results for \"${search}\"` : 'All Fragrances'}\n            </h1>\n            <p className=\"text-gray-600\">\n              {fragrances.length} {fragrances.length === 1 ? 'fragrance' : 'fragrances'} found\n            </p>\n          </div>\n\n          {fragrances.length === 0 ? (\n            <div className=\"text-center py-16\">\n              <p className=\"text-gray-500 text-lg\">\n                No fragrances found. Try adjusting your filters.\n              </p>\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6\">\n              {fragrances.map((fragrance: { id: string; name: string; brand: { name: string }; gender: string | null; concentration: string | null; ratingAvg: number | null; reviewCount: number; bottleImageUrl: string | null }) => (\n                <FragranceCard\n                  key={fragrance.id}\n                  id={fragrance.id}\n                  name={fragrance.name}\n                  brand={fragrance.brand.name}\n                  gender={fragrance.gender || undefined}\n                  concentration={fragrance.concentration || undefined}\n                  ratingAvg={fragrance.ratingAvg || undefined}\n                  reviewCount={fragrance.reviewCount}\n                  bottleImageUrl={fragrance.bottleImageUrl || undefined}\n                />\n              ))}\n            </div>\n          )}\n        </main>\n      </div>\n    </div>\n  );\n}\n\nexport default async function FragrancesPage(props: FragrancesPageProps) {\n  const searchParams = await props.searchParams;\n\n  return (\n    <Suspense fallback={<div className=\"container mx-auto px-4 py-8\">Loading...</div>}>\n      <FragrancesList searchParams={searchParams} />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AAEA;AACA;AACA;;;;;;;;;;AAEO,MAAM,WAAqB;IAChC,OAAO;IACP,aAAa;IACb,WAAW;QACT,OAAO;QACP,aAAa;IACf;AACF;AAWA,eAAe,eAAe,EAAE,YAAY,EAAkE;IAC5G,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG;IAExC,MAAM,QAAa,CAAC;IAEpB,IAAI,QAAQ;QACV,MAAM,EAAE,GAAG;YACT;gBAAE,MAAM;oBAAE,UAAU;oBAAQ,MAAM;gBAAc;YAAE;YAClD;gBAAE,OAAO;oBAAE,MAAM;wBAAE,UAAU;wBAAQ,MAAM;oBAAc;gBAAE;YAAE;YAC7D;gBAAE,aAAa;oBAAE,UAAU;oBAAQ,MAAM;gBAAc;YAAE;SAC1D;IACH;IAEA,IAAI,OAAO;QACT,MAAM,KAAK,GAAG;YAAE,MAAM;QAAM;IAC9B;IAEA,IAAI,QAAQ;QACV,MAAM,MAAM,GAAG;IACjB;IAEA,IAAI,UAAe;QAAE,WAAW;IAAO;IAEvC,IAAI,SAAS,QAAQ;QACnB,UAAU;YAAE,MAAM;QAAM;IAC1B,OAAO,IAAI,SAAS,QAAQ;QAC1B,UAAU;YAAE,MAAM;QAAO;IAC3B;IAEA,MAAM,aAAa,MAAM,mHAAM,CAAC,SAAS,CAAC,QAAQ,CAAC;QACjD;QACA,SAAS;YACP,OAAO;QACT;QACA;IACF;IAEA,MAAM,SAAS,MAAM,mHAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;QACzC,SAAS;YAAE,MAAM;QAAM;IACzB;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAM,WAAU;8BACf,cAAA,8OAAC,uIAAa;wBAAC,QAAQ;;;;;;;;;;;8BAGzB,8OAAC;oBAAK,WAAU;;sCACd,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CACX,SAAS,CAAC,oBAAoB,EAAE,OAAO,CAAC,CAAC,GAAG;;;;;;8CAE/C,8OAAC;oCAAE,WAAU;;wCACV,WAAW,MAAM;wCAAC;wCAAE,WAAW,MAAM,KAAK,IAAI,cAAc;wCAAa;;;;;;;;;;;;;wBAI7E,WAAW,MAAM,KAAK,kBACrB,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;iDAKvC,8OAAC;4BAAI,WAAU;sCACZ,WAAW,GAAG,CAAC,CAAC,0BACf,8OAAC,uIAAa;oCAEZ,IAAI,UAAU,EAAE;oCAChB,MAAM,UAAU,IAAI;oCACpB,OAAO,UAAU,KAAK,CAAC,IAAI;oCAC3B,QAAQ,UAAU,MAAM,IAAI;oCAC5B,eAAe,UAAU,aAAa,IAAI;oCAC1C,WAAW,UAAU,SAAS,IAAI;oCAClC,aAAa,UAAU,WAAW;oCAClC,gBAAgB,UAAU,cAAc,IAAI;mCARvC,UAAU,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiBnC;AAEe,eAAe,eAAe,KAA0B;IACrE,MAAM,eAAe,MAAM,MAAM,YAAY;IAE7C,qBACE,8OAAC,iNAAQ;QAAC,wBAAU,8OAAC;YAAI,WAAU;sBAA8B;;;;;;kBAC/D,cAAA,8OAAC;YAAe,cAAc;;;;;;;;;;;AAGpC"}}]
}