module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},58542,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);function e({brands:a,notes:e,initialData:f}){let g=(0,d.useRouter)(),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)({name:f?.name||"",brandId:f?.brandId||"",year:f?.year?.toString()||"",gender:f?.gender||"",concentration:f?.concentration||"",description:f?.description||"",bottleImageUrl:f?.bottleImageUrl||""}),[n,o]=(0,c.useState)(f?.selectedNotes?.map(a=>({...a,intensity:a.intensity||3}))||[]),p=async a=>{a.preventDefault(),i(!0),k("");try{let a={...l,year:l.year?parseInt(l.year):null,notes:n},b=f?`/api/admin/fragrances/${f.id}`:"/api/admin/fragrances",c=f?"PUT":"POST",d=await fetch(b,{method:c,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!d.ok){let a=await d.json();throw Error(a.error||"Failed to save fragrance")}let e=await d.json();g.push(`/fragrances/${e.id}`)}catch(a){k(a instanceof Error?a.message:"An error occurred")}finally{i(!1)}},q=(a,b)=>{n.find(b=>b.noteId===a)?o(n.filter(b=>b.noteId!==a)):o([...n,{noteId:a,category:b,intensity:3}])},r=e.filter(a=>"top"===a.category),s=e.filter(a=>"heart"===a.category),t=e.filter(a=>"base"===a.category);return(0,b.jsxs)("form",{onSubmit:p,className:"max-w-4xl mx-auto space-y-8",children:[j&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:j}),(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-8 space-y-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Basic Information"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Fragrance Name *"}),(0,b.jsx)("input",{type:"text",required:!0,value:l.name,onChange:a=>m({...l,name:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"e.g., Bleu de Chanel"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Brand *"}),(0,b.jsxs)("select",{required:!0,value:l.brandId,onChange:a=>m({...l,brandId:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[(0,b.jsx)("option",{value:"",children:"Select a brand"}),a.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year"}),(0,b.jsx)("input",{type:"number",value:l.year,onChange:a=>m({...l,year:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"2010",min:"1900",max:"2030"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Gender"}),(0,b.jsxs)("select",{value:l.gender,onChange:a=>m({...l,gender:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[(0,b.jsx)("option",{value:"",children:"Select"}),(0,b.jsx)("option",{value:"Men",children:"Men"}),(0,b.jsx)("option",{value:"Women",children:"Women"}),(0,b.jsx)("option",{value:"Unisex",children:"Unisex"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Concentration"}),(0,b.jsxs)("select",{value:l.concentration,onChange:a=>m({...l,concentration:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[(0,b.jsx)("option",{value:"",children:"Select"}),(0,b.jsx)("option",{value:"Parfum",children:"Parfum"}),(0,b.jsx)("option",{value:"EDP",children:"EDP (Eau de Parfum)"}),(0,b.jsx)("option",{value:"EDT",children:"EDT (Eau de Toilette)"}),(0,b.jsx)("option",{value:"EDC",children:"EDC (Eau de Cologne)"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:l.description,onChange:a=>m({...l,description:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",rows:4,placeholder:"Describe the fragrance..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bottle Image URL"}),(0,b.jsx)("input",{type:"url",value:l.bottleImageUrl,onChange:a=>m({...l,bottleImageUrl:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"https://example.com/image.jpg"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-8 space-y-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Fragrance Notes"}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Top Notes"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:r.map(a=>{let c=n.find(b=>b.noteId===a.id);return(0,b.jsx)("button",{type:"button",onClick:()=>q(a.id,"top"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${c?"bg-accent-mint text-gray-900 border-2 border-accent-mint":"bg-gray-100 text-gray-700 border-2 border-transparent hover:border-gray-300"}`,children:a.name},a.id)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Heart Notes"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map(a=>{let c=n.find(b=>b.noteId===a.id);return(0,b.jsx)("button",{type:"button",onClick:()=>q(a.id,"heart"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${c?"bg-accent-lavender text-gray-900 border-2 border-accent-lavender":"bg-gray-100 text-gray-700 border-2 border-transparent hover:border-gray-300"}`,children:a.name},a.id)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Base Notes"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(a=>{let c=n.find(b=>b.noteId===a.id);return(0,b.jsx)("button",{type:"button",onClick:()=>q(a.id,"base"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${c?"bg-accent-rose text-gray-900 border-2 border-accent-rose":"bg-gray-100 text-gray-700 border-2 border-transparent hover:border-gray-300"}`,children:a.name},a.id)})})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("button",{type:"button",onClick:()=>g.back(),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:h,className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors font-medium disabled:opacity-50",children:h?"Saving...":f?"Update Fragrance":"Create Fragrance"})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ee9e65a3._.js.map