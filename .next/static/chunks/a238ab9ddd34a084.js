(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,r,a)=>{r.exports=e.r(76562)},74816,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(18566);function n({brands:e,notes:n,initialData:l}){let s=(0,t.useRouter)(),[o,d]=(0,a.useState)(!1),[i,c]=(0,a.useState)(""),[m,g]=(0,a.useState)({name:l?.name||"",brandId:l?.brandId||"",year:l?.year?.toString()||"",gender:l?.gender||"",concentration:l?.concentration||"",description:l?.description||"",bottleImageUrl:l?.bottleImageUrl||""}),[x,b]=(0,a.useState)(l?.selectedNotes?.map(e=>({...e,intensity:e.intensity||3}))||[]),u=async e=>{e.preventDefault(),d(!0),c("");try{let e={...m,year:m.year?parseInt(m.year):null,notes:x},r=l?`/api/admin/fragrances/${l.id}`:"/api/admin/fragrances",a=l?"PUT":"POST",t=await fetch(r,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to save fragrance")}let n=await t.json();s.push(`/fragrances/${n.id}`)}catch(e){c(e instanceof Error?e.message:"An error occurred")}finally{d(!1)}},p=(e,r)=>{x.find(r=>r.noteId===e)?b(x.filter(r=>r.noteId!==e)):b([...x,{noteId:e,category:r,intensity:3}])},y=n.filter(e=>"top"===e.category),h=n.filter(e=>"heart"===e.category),f=n.filter(e=>"base"===e.category);return(0,r.jsxs)("form",{onSubmit:u,className:"max-w-4xl mx-auto space-y-8",children:[i&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:i}),(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-8 space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Basic Information"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Fragrance Name *"}),(0,r.jsx)("input",{type:"text",required:!0,value:m.name,onChange:e=>g({...m,name:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"e.g., Bleu de Chanel"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Brand *"}),(0,r.jsxs)("select",{required:!0,value:m.brandId,onChange:e=>g({...m,brandId:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[(0,r.jsx)("option",{value:"",children:"Select a brand"}),e.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year"}),(0,r.jsx)("input",{type:"number",value:m.year,onChange:e=>g({...m,year:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"2010",min:"1900",max:"2030"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Gender"}),(0,r.jsxs)("select",{value:m.gender,onChange:e=>g({...m,gender:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[(0,r.jsx)("option",{value:"",children:"Select"}),(0,r.jsx)("option",{value:"Men",children:"Men"}),(0,r.jsx)("option",{value:"Women",children:"Women"}),(0,r.jsx)("option",{value:"Unisex",children:"Unisex"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Concentration"}),(0,r.jsxs)("select",{value:m.concentration,onChange:e=>g({...m,concentration:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[(0,r.jsx)("option",{value:"",children:"Select"}),(0,r.jsx)("option",{value:"Parfum",children:"Parfum"}),(0,r.jsx)("option",{value:"EDP",children:"EDP (Eau de Parfum)"}),(0,r.jsx)("option",{value:"EDT",children:"EDT (Eau de Toilette)"}),(0,r.jsx)("option",{value:"EDC",children:"EDC (Eau de Cologne)"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),(0,r.jsx)("textarea",{value:m.description,onChange:e=>g({...m,description:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",rows:4,placeholder:"Describe the fragrance..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bottle Image URL"}),(0,r.jsx)("input",{type:"url",value:m.bottleImageUrl,onChange:e=>g({...m,bottleImageUrl:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"https://example.com/image.jpg"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-8 space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Fragrance Notes"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Top Notes"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:y.map(e=>{let a=x.find(r=>r.noteId===e.id);return(0,r.jsx)("button",{type:"button",onClick:()=>p(e.id,"top"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a?"bg-accent-mint text-gray-900 border-2 border-accent-mint":"bg-gray-100 text-gray-700 border-2 border-transparent hover:border-gray-300"}`,children:e.name},e.id)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Heart Notes"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:h.map(e=>{let a=x.find(r=>r.noteId===e.id);return(0,r.jsx)("button",{type:"button",onClick:()=>p(e.id,"heart"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a?"bg-accent-lavender text-gray-900 border-2 border-accent-lavender":"bg-gray-100 text-gray-700 border-2 border-transparent hover:border-gray-300"}`,children:e.name},e.id)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Base Notes"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:f.map(e=>{let a=x.find(r=>r.noteId===e.id);return(0,r.jsx)("button",{type:"button",onClick:()=>p(e.id,"base"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a?"bg-accent-rose text-gray-900 border-2 border-accent-rose":"bg-gray-100 text-gray-700 border-2 border-transparent hover:border-gray-300"}`,children:e.name},e.id)})})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("button",{type:"button",onClick:()=>s.back(),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:o,className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors font-medium disabled:opacity-50",children:o?"Saving...":l?"Update Fragrance":"Create Fragrance"})]})]})}e.s(["default",()=>n])}]);